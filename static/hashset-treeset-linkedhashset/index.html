
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Java HashSet vs. TreeSet vs. LinkedHashSet</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=bb54507082">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">
    <link rel="stylesheet" type="text/css" href="../assets/css/prism.css?v=bb54507082">
    <script type="text/javascript" src="../assets/js/prism.js?v=bb54507082"></script>

    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="amp/index.html">
    
    <meta property="og:site_name" content="Learn Java">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Java HashSet vs. TreeSet vs. LinkedHashSet">
    <meta property="og:description" content="Set là một cấu trúc dữ liệu lưu trữ các phần tử không bị trùng lặp, Java đã cài đặt một số class cho cấu trúc dữ liệu này. Mỗi cách implementation đều có những đặc điểm riêng dùng cho các mục đích phù hợp khác nhau: HashSet, TreeSet and">
    <meta property="og:url" content="http://localhost:2368/hashset-treeset-linkedhashset/">
    <meta property="article:published_time" content="2016-10-30T14:54:38.000Z">
    <meta property="article:modified_time" content="2016-10-30T14:54:46.000Z">
    <meta property="article:tag" content="java">
    
    <meta property="article:author" content="https://www.facebook.com/nguyenngoc101">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Java HashSet vs. TreeSet vs. LinkedHashSet">
    <meta name="twitter:description" content="Set là một cấu trúc dữ liệu lưu trữ các phần tử không bị trùng lặp, Java đã cài đặt một số class cho cấu trúc dữ liệu này. Mỗi cách implementation đều có những đặc điểm riêng dùng cho các mục đích phù hợp khác nhau: HashSet, TreeSet and">
    <meta name="twitter:url" content="http://localhost:2368/hashset-treeset-linkedhashset/">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="ngocnv">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="java">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Learn Java",
        "logo": "http://localhost:2368/ghost/img/ghosticon.jpg"
    },
    "author": {
        "@type": "Person",
        "name": "ngocnv",
        "url": "http://localhost:2368/author/ngocnv/",
        "sameAs": [
            "https://www.facebook.com/nguyenngoc101"
        ],
        "description": "I&#x27;m just a java lover"
    },
    "headline": "Java HashSet vs. TreeSet vs. LinkedHashSet",
    "url": "http://localhost:2368/hashset-treeset-linkedhashset/",
    "datePublished": "2016-10-30T14:54:38.000Z",
    "dateModified": "2016-10-30T14:54:46.000Z",
    "keywords": "java",
    "description": "Set là một cấu trúc dữ liệu lưu trữ các phần tử không bị trùng lặp, Java đã cài đặt một số class cho cấu trúc dữ liệu này. Mỗi cách implementation đều có những đặc điểm riêng dùng cho các mục đích phù hợp khác nhau: HashSet, TreeSet and",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:2368"
    }
}
    </script>

    <meta name="generator" content="Ghost 0.11">
    <link rel="alternate" type="application/rss+xml" title="Learn Java" href="../rss/index.html">
</head>
<body class="post-template tag-java nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="index.html#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav-home" role="presentation"><a href="../">Home</a></li>
            <li class="nav-java-core" role="presentation"><a href="../tag/java/">Java Core</a></li>
            <li class="nav-spring-framework" role="presentation"><a href="../tag/spring/">Spring Framework</a></li>
    </ul>
        <a class="subscribe-button icon-feed" href="../rss/index.rss">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head no-cover">
    <nav class="main-nav  clearfix">
        
            <a class="menu-button icon-menu" href="index.html#"><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post tag-java">

        <header class="post-header">
            <h1 class="post-title">Java HashSet vs. TreeSet vs. LinkedHashSet</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2016-10-30">30 October 2016</time>  on <a href="../tag/java/">java</a>
            </section>
        </header>

        <section class="post-content">
            <p>Set là một cấu trúc dữ liệu lưu trữ các phần tử không bị trùng lặp, Java đã cài đặt một số class cho cấu trúc dữ liệu này. Mỗi cách implementation đều có những đặc điểm riêng dùng cho các mục đích phù hợp khác nhau: HashSet, TreeSet and LinkedHashSet do vậy việc nắm bắt được khi nào thì sử dụng chúng một cách hiệu quả là điều cực kỳ quan trọng. </p>

<p>Tóm tắt một cách ngắn gọn, nếu ưu tiên về tốc độ sử dụng HashSet, nếu cần một Set được sắp xếp chọn TreeSet, còn nếu muốn đọc một Set theo thứ tự mà các phần tử được insert vào thì dùng LinkedHashSet.</p>

<ul>
<li>HashSet được implement bằng cách sử dụng một hash table. Các thành phần không được sắp xếp theo thứ tự. Các thao tác add, remove và contains có độ phức tạp là O(1)</li>
<li>TreeSet được implement bằng cách sử dụng cấu trúc dữ liệu tree, các thành phần trong Set được sắp xếp theo thứ tự. Tuy nhiên với các thao tác add, remove và contains độ phức tạp của chúng là O(log(n)).</li>
<li>LinkedHashSet được implement như một hash table với mỗi phần tử trong bảng băm này sẽ trỏ đến phần tử đầu tiên của một Linked List. Vì vậy mà các phần tử có thể được sắp xếp, và thời gian thao tác với các method cơ bản add, remove và contains là 0(1).</li>
</ul>

<pre><code class="language-java">TreeSet tree = new TreeSet();  
tree.add(12);  
tree.add(63);  
tree.add(34);  
tree.add(45);

Iterator iterator = tree.iterator();  
System.out.print("Tree set data: ");  
while (iterator.hasNext()) {  
    System.out.print(iterator.next() + " ");
}
</code></pre>

<p>Output:  </p>

<pre><code class="language-java"> Tree set data: 12 34 45 63  
</code></pre>

<p>Bây giờ hãy define một class Dog như dưới đây:  </p>

<pre><code class="language-java">class Dog {  
int size;

public Dog(int s) {  
size = s;  
}

public String toString() {  
return size + "";  
}
}
</code></pre>

<p>Sau đó add vào vài phần tử:</p>

<pre><code class="language-java">import java.util.Iterator;  
import java.util.TreeSet;

public class TestTreeSet {  
public static void main(String[] args) {  
TreeSet dset = new TreeSet();  
dset.add(new Dog(2));  
dset.add(new Dog(1));  
dset.add(new Dog(3));

Iterator iterator = dset.iterator();  
while (iterator.hasNext()) {  
System.out.print(iterator.next() + " ");  
}
}
}
</code></pre>

<p>Compile ok, but run-time error xảy ra.  </p>

<pre><code>Exception in thread "main" java.lang.ClassCastException:  
collection.Dog cannot be cast to java.lang.Comparable  
at java.util.TreeMap.put(Unknown Source)  
at java.util.TreeSet.add(Unknown Source)  
at collection.TestTreeSet.main(TestTreeSet.java:22)  
</code></pre>

<p>Bởi vì TreeSet được sắp xếp, do đó Dog object cần phải implement interface Comparable như dưới đây:</p>

<pre><code class="language-java">class Dog implements Comparable{  
int size;

public Dog(int s) {  
size = s;  
}

public String toString() {  
return size + "";  
}

@Override
public int compareTo(Dog o) {  
        return size - o.size;
}
}
</code></pre>

<p>The output là:  </p>

<pre><code>1 2 3  
</code></pre>

<p>HashSet Example:  </p>

<pre><code class="language-java">HashSet dset = new HashSet();  
dset.add(new Dog(2));  
dset.add(new Dog(1));  
dset.add(new Dog(3));  
dset.add(new Dog(5));  
dset.add(new Dog(4));  
Iterator iterator = dset.iterator();  
while (iterator.hasNext()) {  
System.out.print(iterator.next() + " ");  
}
</code></pre>

<p>Output:  </p>

<pre><code class="language-java">5 3 2 1 4  
</code></pre>

<p>Note: Các phần tử ko được sắp xếp theo bất kỳ thứ tự nào</p>

<p>LinkedHashSet Example</p>

<pre><code class="language-java">LinkedHashSet dset = new LinkedHashSet();  
dset.add(new Dog(2));  
dset.add(new Dog(1));  
dset.add(new Dog(3));  
dset.add(new Dog(5));  
dset.add(new Dog(4));  
Iterator iterator = dset.iterator();  
while (iterator.hasNext()) {  
System.out.print(iterator.next() + " ");  
}
</code></pre>

<p>Các phần tử sẽ có thứ tự là thứ được được insert vào set  </p>

<pre><code class="language-java">2 1 3 5 4  
</code></pre>

<ul>
<li>Performance testing
Thử test hiệu năng của 3 cách implement bằng cách sử dụn add() method.</li>
</ul>

<pre><code class="language-java">public static void main(String[] args) {  
Random r = new Random();  
HashSet hashSet = new HashSet();  
TreeSet treeSet = new TreeSet();  
LinkedHashSet linkedSet = new LinkedHashSet();

long startTime = System.nanoTime();  
for (int i = 0; i &lt; 1000; i++) {  
int x = r.nextInt(1000 - 10) + 10;  
hashSet.add(new Dog(x));  
}

long endTime = System.nanoTime();  
long duration = endTime - startTime;  
System.out.println("HashSet: " + duration);

startTime = System.nanoTime();  
for (int i = 0; i &lt; 1000; i++) {  
int x = r.nextInt(1000 - 10) + 10;  
treeSet.add(new Dog(x));  
}

endTime = System.nanoTime();  
duration = endTime - startTime;  
System.out.println("TreeSet: " + duration);

startTime = System.nanoTime();  
for (int i = 0; i &lt; 1000; i++) {  
int x = r.nextInt(1000 - 10) + 10;  
linkedSet.add(new Dog(x));  
}

endTime = System.nanoTime();  
duration = endTime - startTime;  
System.out.println("LinkedHashSet: " + duration);\  
}
</code></pre>

<p>Kết quả cho thấy HashSet thao tác nhanh nhất với method add():  </p>

<pre><code class="language-java">HashSet: 2244768  
TreeSet: 3549314  
LinkedHashSet: 2263320  
</code></pre>
        </section>

        <footer class="post-footer">



            <section class="author">
                <h4><a href="../author/ngocnv/">ngocnv</a></h4>

                    <p>I'm just a java lover</p>
                <div class="author-meta">
                    
                    
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Java%20HashSet%20vs.%20TreeSet%20vs.%20LinkedHashSet&amp;url=http://localhost:2368/hashset-treeset-linkedhashset/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:2368/hashset-treeset-linkedhashset/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://localhost:2368/hashset-treeset-linkedhashset/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>


        </footer>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story no-cover" href="../java-concurrency/">
        <section class="post">
            <h2>Java concurrency</h2>
            <p>Java platform cung cấp khả năng xử lý multi-threading ở mức low-level, cho phép các developer viết các chương…</p>
        </section>
    </a>
    <a class="read-next-story prev no-cover" href="../regex-an-xau-kieu-greedy-va-lazy/">
        <section class="post">
            <h2>Regex ăn xâu kiểu greedy và lazy</h2>
            <p>Trong quá trình làm việc với String tôi có gặp một bài toán nhỏ là làm thế nào để…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="../">Learn Java</a> © 2016</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    
    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=bb54507082"></script>
    <script type="text/javascript" src="../assets/js/index.js?v=bb54507082"></script>

</body>
